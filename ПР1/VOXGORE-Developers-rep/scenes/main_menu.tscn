[gd_scene load_steps=31 format=3 uid="uid://f3uiphqjp2yi"]

[ext_resource type="Script" uid="uid://qat1waggfiv7" path="res://scripts/main_menu.gd" id="1_4ol21"]
[ext_resource type="FontFile" uid="uid://ch8g11turrdwq" path="res://media/fonts/GenericMobileSystem.ttf" id="1_hs0dr"]
[ext_resource type="ArrayMesh" uid="uid://mbfen0vs5x73" path="res://media/models/lal_player_body.vox" id="2_tr1yb"]
[ext_resource type="ArrayMesh" uid="uid://dt8x5xki6dgda" path="res://media/models/lal_player_head.vox" id="3_ce3om"]
[ext_resource type="Texture2D" uid="uid://cpk7b2fmt0ti0" path="res://media/gfx/logo.png" id="3_lgwnu"]
[ext_resource type="ArrayMesh" uid="uid://c1q076528di7c" path="res://media/models/lal_player_hand.vox" id="4_o1iox"]
[ext_resource type="ArrayMesh" uid="uid://bku1jvgpmyedb" path="res://media/models/lal_test_gun.vox" id="5_yx7lr"]
[ext_resource type="ArrayMesh" uid="uid://8u47my0l3vci" path="res://media/models/lal_bloodsucker1_body.vox" id="7_tbmy8"]
[ext_resource type="ArrayMesh" uid="uid://bm2dkypv01q2y" path="res://media/models/lal_bloodsucker1_head.vox" id="8_jk1qb"]
[ext_resource type="AudioStream" uid="uid://clh12t6c6cehx" path="res://media/sfx/thunder.mp3" id="9_jk1qb"]
[ext_resource type="AudioStream" uid="uid://dyaj4bmkk33a4" path="res://media/sfx/rain.mp3" id="10_5dd4i"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_rtw2f"]
sky_top_color = Color(0, 0, 0, 1)
sky_horizon_color = Color(0, 0, 0, 1)
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0, 0, 0, 1)

[sub_resource type="Sky" id="Sky_oa1go"]
sky_material = SubResource("ProceduralSkyMaterial_rtw2f")

[sub_resource type="Environment" id="Environment_tbmy8"]
background_energy_multiplier = 0.0
sky = SubResource("Sky_oa1go")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_flqon"]
albedo_color = Color(7.94157e-07, 0.581057, 0.108196, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_evd4x"]
material = SubResource("StandardMaterial3D_flqon")
size = Vector2(500, 500)

[sub_resource type="Animation" id="Animation_xcv7t"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_jttko"]
resource_name = "fade_out"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_067fb"]
_data = {
&"RESET": SubResource("Animation_xcv7t"),
&"fade_out": SubResource("Animation_jttko")
}

[sub_resource type="Animation" id="Animation_lgwnu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpotLight3D:light_energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_5dd4i"]
resource_name = "idle"
length = 60.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("SpotLight3D:light_energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 7, 7.5, 7.8, 8, 8.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [0.0, 0.0, 1.0, 0.099, 1.0, 0.0]
}
tracks/1/type = "audio"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("thunder_sound")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("9_jk1qb")
}],
"times": PackedFloat32Array(6.96667)
}
tracks/1/use_blend = true

[sub_resource type="AnimationLibrary" id="AnimationLibrary_flqon"]
_data = {
&"RESET": SubResource("Animation_lgwnu"),
&"idle": SubResource("Animation_5dd4i")
}

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_5dd4i"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lgwnu"]
albedo_color = Color(3.17663e-06, 0.525427, 0.566162, 1)
emission = Color(0, 0.87451, 0.388235, 1)
emission_energy_multiplier = 2.62
rim_enabled = true
ao_light_affect = 1.0
subsurf_scatter_strength = 1.0
detail_mask = SubResource("PlaceholderTexture2D_5dd4i")
grow = true
grow_amount = -8.27
point_size = 0.1

[sub_resource type="Curve" id="Curve_flqon"]
_limits = [-360.0, 360.0, 0.0, 1.0]
_data = [Vector2(0.0797101, 360), 0.0, 0.0, 0, 0, Vector2(1, -360), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_lgwnu"]
curve = SubResource("Curve_flqon")

[sub_resource type="Curve" id="Curve_rcqid"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_flqon"]
curve = SubResource("Curve_rcqid")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_1ajci"]
emission_shape_scale = Vector3(10, 0, 10)
emission_shape = 1
emission_sphere_radius = 1.5
angle_min = -248.3
angle_max = 165.5
angle_curve = SubResource("CurveTexture_lgwnu")
scale_curve = SubResource("CurveTexture_flqon")
color = Color(8.66354e-07, 0.729975, 0.565014, 1)

[sub_resource type="BoxMesh" id="BoxMesh_jk1qb"]
size = Vector3(0.05, 0.5, 0.01)

[node name="main_menu" type="Node3D"]
script = ExtResource("1_4ol21")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_tbmy8")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.716753, 0, -0.697328, 0, 1, 0, 0.697328, 0, 0.716753, -0.531702, 1.87109, 5.98919)

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("PlaneMesh_evd4x")

[node name="Node2D" type="Node2D" parent="."]

[node name="play_label" type="Label" parent="Node2D"]
offset_left = 192.0
offset_top = 88.0
offset_right = 320.0
offset_bottom = 105.0
theme_override_fonts/font = ExtResource("1_hs0dr")
theme_override_font_sizes/font_size = 15
text = "Play"
horizontal_alignment = 1
vertical_alignment = 1

[node name="play_button" type="TextureButton" parent="Node2D/play_label"]
layout_mode = 0
offset_left = 48.0
offset_right = 80.0
offset_bottom = 16.0

[node name="settings_label" type="Label" parent="Node2D"]
offset_top = 688.0
offset_right = 1920.0
offset_bottom = 768.0
theme_override_fonts/font = ExtResource("1_hs0dr")
theme_override_font_sizes/font_size = 80
text = "Settings"
horizontal_alignment = 1
vertical_alignment = 1

[node name="exit_label" type="Label" parent="Node2D"]
offset_top = 816.0
offset_right = 1920.0
offset_bottom = 896.0
theme_override_fonts/font = ExtResource("1_hs0dr")
theme_override_font_sizes/font_size = 80
text = "Exit"
horizontal_alignment = 1
vertical_alignment = 1

[node name="ColorRect" type="ColorRect" parent="Node2D"]
visible = false
modulate = Color(1, 1, 1, 0)
offset_right = 40.0
offset_bottom = 40.0
scale = Vector2(48.0668, 27.0608)
mouse_filter = 2
color = Color(0, 0, 0, 1)

[node name="fade_out" type="AnimationPlayer" parent="Node2D/ColorRect"]
libraries = {
&"": SubResource("AnimationLibrary_067fb")
}
autoplay = "fade_out"

[node name="Logo" type="Sprite2D" parent="Node2D"]
position = Vector2(232, 32)
texture = ExtResource("3_lgwnu")

[node name="LalPlayerBody" type="MeshInstance3D" parent="."]
transform = Transform3D(0.921768, 0, 0.387741, 0, 1, 0, -0.387741, 0, 0.921768, 0, 0, 0)
mesh = ExtResource("2_tr1yb")

[node name="LalPlayerHead" type="MeshInstance3D" parent="."]
transform = Transform3D(0.816459, -0.153879, 0.556521, 0.0624127, 0.981707, 0.17988, -0.57402, -0.112131, 0.811128, 0, 0.891, 0)
mesh = ExtResource("3_ce3om")

[node name="LalPlayerHand" type="MeshInstance3D" parent="."]
transform = Transform3D(0.360509, -0.362168, 0.859574, 0.337412, 0.909771, 0.241805, -0.86959, 0.202857, 0.450181, -0.143419, 0.220138, 0.456217)
mesh = ExtResource("4_o1iox")

[node name="LalTestGun" type="MeshInstance3D" parent="LalPlayerHand"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0.0419392, -0.0304294, 0.342088)
mesh = ExtResource("5_yx7lr")
skeleton = NodePath("../..")

[node name="LalPlayerHand2" type="MeshInstance3D" parent="."]
transform = Transform3D(0.365059, -0.37243, 0.853245, 0.325397, 0.909737, 0.257868, -0.872266, 0.183507, 0.453295, 0.470331, 0.44455, 0.839364)
mesh = ExtResource("4_o1iox")

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 4.93399, 10.7922, 0)
light_energy = 0.0
spot_range = 18.217
spot_attenuation = 0.63
spot_angle = 53.23

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.991442, 1.471, 1.22009)
light_color = Color(0.807972, 0.365299, 0, 1)
light_energy = 1.004
omni_range = 1.69373

[node name="LalBloodsucker1Body" type="MeshInstance3D" parent="."]
transform = Transform3D(0.906956, 0, 0.421226, 0, 1, 0, -0.421226, 0, 0.906956, -1.62114, 0, -3.14534)
mesh = ExtResource("7_tbmy8")

[node name="LalBloodsucker1Head" type="MeshInstance3D" parent="LalBloodsucker1Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.920745, 0)
mesh = ExtResource("8_jk1qb")
skeleton = NodePath("../..")

[node name="LalBloodsucker1Body2" type="MeshInstance3D" parent="."]
transform = Transform3D(0.527074, 0, 0.849819, 0, 1, 0, -0.849819, 0, 0.527074, -2.93195, 0, -1.93004)
mesh = ExtResource("7_tbmy8")

[node name="LalBloodsucker1Head" type="MeshInstance3D" parent="LalBloodsucker1Body2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.920745, 0)
mesh = ExtResource("8_jk1qb")
skeleton = NodePath("../..")

[node name="LalBloodsucker1Body3" type="MeshInstance3D" parent="."]
transform = Transform3D(0.0981735, 0, 0.995169, 0, 1, 0, -0.995169, 0, 0.0981735, -3.62671, 0, -0.317577)
mesh = ExtResource("7_tbmy8")

[node name="LalBloodsucker1Head" type="MeshInstance3D" parent="LalBloodsucker1Body3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.920745, 0)
mesh = ExtResource("8_jk1qb")
skeleton = NodePath("../..")

[node name="LalBloodsucker1Body4" type="MeshInstance3D" parent="."]
transform = Transform3D(0.956351, 0, -0.292222, 0, 1, 0, 0.292222, 0, 0.956351, 1.69041, 0, -3.38883)
mesh = ExtResource("7_tbmy8")

[node name="LalBloodsucker1Head" type="MeshInstance3D" parent="LalBloodsucker1Body4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.920745, 0)
mesh = ExtResource("8_jk1qb")
skeleton = NodePath("../..")

[node name="LalBloodsucker1Body5" type="MeshInstance3D" parent="."]
transform = Transform3D(0.999867, 0, -0.0162833, 0, 1, 0, 0.0162833, 0, 0.999867, -0.0916324, 0, -3.90852)
mesh = ExtResource("7_tbmy8")

[node name="LalBloodsucker1Head" type="MeshInstance3D" parent="LalBloodsucker1Body5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.920745, 0)
mesh = ExtResource("8_jk1qb")
skeleton = NodePath("../..")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_flqon")
}
autoplay = "idle"
speed_scale = 2.0

[node name="thunder_sound" type="AudioStreamPlayer" parent="."]

[node name="heal_particles" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.24657, 11.377, -1.9169)
material_override = SubResource("StandardMaterial3D_lgwnu")
lod_bias = 128.0
amount = 1000
lifetime = 10.0
preprocess = 0.61
speed_scale = 6.29
use_fixed_seed = true
seed = 2850964302
fixed_fps = 60
trail_enabled = true
trail_lifetime = 10.0
process_material = SubResource("ParticleProcessMaterial_1ajci")
draw_pass_1 = SubResource("BoxMesh_jk1qb")

[node name="rain_sound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_5dd4i")
autoplay = true

[connection signal="pressed" from="Node2D/play_label/play_button" to="." method="_on_play_button_pressed"]
